<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ranking ON Radio</title>
<style>
  /* Fondo completo */
  body {
    margin: 0;
    padding: 0;
    background: url('fondoranking.png') no-repeat center center fixed;
    background-size: cover;
    font-family: Arial, sans-serif;
    color: white;
    overflow-x: hidden;
  }

  /* Rectángulo central */
  #rankingRect {
    position: absolute;
    width: 1486px;
    height: 769px;
    left: 305.93px;
    top: 188.85px;
    background: rgba(0,0,0,0.6);
    border: 3px solid rgb(255,0,0); /* rojo LED */
    box-sizing: border-box;
    padding: 20px;
    overflow-y: auto;
  }

  /* Cada renglón de tema */
  .tema {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 10px;
    margin-bottom: 8px;
    border-bottom: 1px solid rgba(255,255,255,0.2);
    min-height: 60px;
  }

  .tema-info {
    display: flex;
    align-items: center;
  }

  .numero {
    width: 40px;
    font-weight: bold;
    text-align: center;
    font-size: 24px;
    margin-right: 10px;
  }

  .numero.primer {
    font-size: 36px;
    color: rgb(255,50,50);
  }

  .flecha {
    width: 12px;
    height: 12px;
    margin-right: 10px;
  }

  .texto {
    display: flex;
    flex-direction: column;
  }

  .titulo {
    font-weight: bold;
  }

  .artista {
    font-weight: normal;
    font-size: 0.9em;
  }

  .controles {
    display: flex;
    align-items: center;
  }

  .play-btn {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    border: 2px solid white;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-right: 10px;
    cursor: pointer;
  }

  .play-btn:after {
    content: '';
    display: block;
    width: 0;
    height: 0;
    border-left: 10px solid white;
    border-top: 6px solid transparent;
    border-bottom: 6px solid transparent;
  }

  .votar-btn {
    background: rgb(255,0,0);
    border: none;
    color: white;
    padding: 5px 12px;
    cursor: pointer;
    border-radius: 4px;
    font-size: 0.9em;
  }

  /* Scroll adaptativo */
  @media (max-width: 1600px){
    #rankingRect {
      width: 90%;
      left: 5%;
    }
  }

  @media (max-width: 768px){
    #rankingRect {
      width: 95%;
      height: 80%;
      top: 10%;
      left: 2.5%;
    }
  }
</style>
</head>
<body>

<div id="rankingRect"></div>

<script>
const temas = {
  "tipica": {"nombre":"Típica Argentina","artista":"Nico Valdi x Chofer x El Lobo","imagen":"tipica.jpg","audio":"tipica.mp3","votos":0},
  "papi": {"nombre":"Music Sessions","artista":"Daddy Yankee - BZRP","imagen":"corriente.jpg","audio":"papi.mp3","votos":0},
  "lavilla": {"nombre":"La Villa","artista":"Ryan Castro, Kapo, Gangsta","imagen":"lavilla.jpg","audio":"lavilla.mp3","votos":0},
  "hacecalor": {"nombre":"Hace Calor","artista":"María Becerra, El Alfa, Xross","imagen":"hacecalor.jpg","audio":"hacecalor.mp3","votos":0},
  "ladron": {"nombre":"Ladrón","artista":"Luck Ra y Karina","imagen":"chorro.jpg","audio":"chorro.mp3","votos":0},
  "paisaje": {"nombre":"Paisaje","artista":"Ke Personajes y Karina","imagen":"paisaje.jpg","audio":"paisaje.mp3","votos":0},
  "perla": {"nombre":"La Perla","artista":"Rosalía","imagen":"laperla.jpg","audio":"laperla.mp3","votos":0},
  "taylor": {"nombre":"The Fate of Ophelia","artista":"Taylor Swift","imagen":"taylor.jpg","audio":"taylor.mp3","votos":0},
  "lumar": {"nombre":"Una y Otra Vez","artista":"Marcela Morelo y Luciano Pereyra","imagen":"lumar.jpg","audio":"lumar.mp3","votos":0},
  "tujardin": {"nombre":"Tu Jardín con Enanitos","artista":"Roze Oficial","imagen":"tujardin.jpg","audio":"tujardin.MP3","votos":0}
};

// Función para generar renglones
function generarRanking() {
  const cont = document.getElementById('rankingRect');
  cont.innerHTML = '';
  let indice = 1;
  const votosGuardados = JSON.parse(localStorage.getItem('votosDia')) || {};
  Object.entries(temas).sort((a,b)=>b[1].votos-a[1].votos).forEach(([key,tema])=>{
    const row = document.createElement('div');
    row.className = 'tema';

    const info = document.createElement('div');
    info.className = 'tema-info';

    const numero = document.createElement('div');
    numero.className = 'numero' + (indice===1?' primer':'');
    numero.textContent = indice;

    const flecha = document.createElement('div');
    flecha.className = 'flecha';
    // aquí puedes cambiar color según subió/bajó/estable, por ahora amarillo
    flecha.style.borderLeft = '6px solid yellow';
    flecha.style.borderTop = '6px solid transparent';
    flecha.style.borderBottom = '6px solid transparent';

    const texto = document.createElement('div');
    texto.className = 'texto';
    const titulo = document.createElement('div');
    titulo.className = 'titulo';
    titulo.textContent = tema.nombre;
    const artista = document.createElement('div');
    artista.className = 'artista';
    artista.textContent = tema.artista;

    texto.appendChild(titulo);
    texto.appendChild(artista);
    info.appendChild(numero);
    info.appendChild(flecha);
    info.appendChild(texto);

    const controles = document.createElement('div');
    controles.className = 'controles';

    const play = document.createElement('div');
    play.className = 'play-btn';
    play.onclick = ()=>{
      const audio = new Audio(tema.audio);
      audio.play();
    };

    const votar = document.createElement('button');
    votar.className = 'votar-btn';
    // manejo 1 voto por día usando localStorage
    votar.onclick = ()=>{
      const hoy = new Date().toISOString().slice(0,10);
      if(votosGuardados[key]===hoy){
        alert('Ya votaste hoy por este tema. Volvé mañana.');
      } else {
        tema.votos++;
        votosGuardados[key]=hoy;
        localStorage.setItem('votosDia',JSON.stringify(votosGuardados));
        generarRanking(); // reordenar
      }
    };
    votar.textContent = 'Votar';

    controles.appendChild(play);
    controles.appendChild(votar);

    row.appendChild(info);
    row.appendChild(controles);

    cont.appendChild(row);
    indice++;
  });
}

// Inicializar ranking
generarRanking();
</script>

</body>
</html>
